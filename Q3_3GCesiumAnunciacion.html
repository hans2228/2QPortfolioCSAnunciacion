<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>PSHS Club Sign-Up</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;600&display=swap" rel="stylesheet">

<style>
body {
  font-family: 'Poppins', sans-serif;
  background: #1e293b;
  color: white;
  padding: 30px;
}

form {
  background: white;
  color: black;
  padding: 25px;
  max-width: 650px;
  margin: auto;
  border-radius: 10px;
}

fieldset {
  margin-bottom: 20px;
  border: 2px solid #1e293b;
}

legend {
  padding: 5px 10px;
  background: #1e293b;
  color: white;
}

label {
  display: block;
  margin-bottom: 12px;
}

input, select, textarea {
  width: 100%;
  padding: 7px;
}

.invalid {
  border: 2px solid red;
  background: #ffecec;
}

button {
  padding: 10px 15px;
  margin-right: 10px;
  cursor: pointer;
}
</style>

<script>
/* Check empty fields on blur */
function checkEmpty(el) {
  if (el.value.trim() === "") {
    el.classList.add("invalid");
  } else {
    el.classList.remove("invalid");
  }
}

/* Save data to localStorage */
function saveSignup(event) {
  event.preventDefault();

  if (!confirm("Do you want to submit this application?")) return;

  // Read form values
  const signup = {
    studentID: document.getElementById("sid").value,
    fullname: document.getElementById("fname").value,
    birthday: document.getElementById("bday").value,
    email: document.getElementById("email").value,
    mobile: document.getElementById("mobile").value,
    grade: document.getElementById("grade").value,
    status: document.querySelector('input[name="status"]:checked').value,
    club: document.getElementById("club").value,
    reason: document.getElementById("reason").value
  };

  // Get existing signups
  let signups = JSON.parse(localStorage.getItem("clubSignups"));

  // Initialize if empty
  if (!signups) {
    signups = [];
  }

  // Add new signup
  signups.push(signup);

  // Save back to localStorage
  localStorage.setItem("clubSignups", JSON.stringify(signups));

  alert("Sign-up saved successfully!");
  document.getElementById("signupForm").reset();
}
</script>
</head>

<body>

<h1>PSHS Club Sign-Up Form</h1>

<form id="signupForm" onsubmit="saveSignup(event)">

<fieldset>
<legend>Personal Information</legend>

<label>Student ID
<input type="number" id="sid" required onblur="checkEmpty(this)">
</label>

<label>Full Name
<input type="text" id="fname" required onblur="checkEmpty(this)">
</label>

<label>Birthday
<input type="date" id="bday" required onblur="checkEmpty(this)">
</label>

<label>Email
<input type="email" id="email" required onblur="checkEmpty(this)">
</label>
</fieldset>

<fieldset>
<legend>Application Details</legend>

<label>Mobile Number
<input type="text" id="mobile" required onblur="checkEmpty(this)">
</label>

<label>Grade Level
<select id="grade" required onblur="checkEmpty(this)">
<option value="">Select</option>
<option value="7">Grade 7</option>
<option value="8">Grade 8</option>
<option value="9">Grade 9</option>
<option value="10">Grade 10</option>
</select>
</label>

<label>Status
<input type="radio" name="status" value="Intern" required> Intern
<input type="radio" name="status" value="Extern"> Extern
</label>

<label>Preferred Club
<select id="club" required onblur="checkEmpty(this)">
<option value="">Select</option>
<option value="ACTS">ACTS</option>
<option value="BRAVURA">BRAVURA</option>
<option value="INVICTUS">INVICTUS</option>
<option value="SAGALA">SAGALA</option>
</select>
</label>

<label>Why do you want to join?
<textarea id="reason" required onblur="checkEmpty(this)"></textarea>
</label>
</fieldset>

<button type="submit">Submit</button>
<button type="button" onclick="location.href='viewSignUps.html'">
View Sign-Ups
</button>

</form>

</body>
</html>
